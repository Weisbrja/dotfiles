#!/bin/sh

printf ' ^c#f1ebeb^Bat '

for battery in '/sys/class/power_supply/BAT'?*
do
	capacity=$(cat "$battery/capacity")
	status=$(cat "$battery/status")
	case "$status" in
		'Full') status='F' ;;
		'Discharging') status='-' ;;
		'Charging') status='+' ;;
		'Not charging') status='0' ;;
		"Unknown") status='?' ;;
	esac

	printf '^c#9358fe^%3s%% %s ' "$capacity" "$status"
done
